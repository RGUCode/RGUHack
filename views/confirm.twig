{% extends 'layout.twig' %}

{% block content %}

{% include 'main/navbar.twig' %}

<div class="container">
    <div class="row">
        <h3>Welcome back, {{ first_name }}!</h3>
        <p>Fill in a couple details for us so that you can be confirmed for attending RGUHack</p>
        <form class="col s12" action="{{ path_for('confirm', {'token': token }) }}" method="POST" id="confirm_form">
            <div class="row">
                <div class="input-field col s6">
                    <input class="datepicker" type="date" name="dob" id="dob" class="validate" required/>
                    <label for="dob">Date of Birth</label>
                </div>
                <div class="input-field col s6">
                    <input class="validate" type="text" name="dietary" id="dietary">
                    <label for="dietary">Dietary Requirements</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input class="validate" type="tel" name="telephone" class="validate" id="telephone" />
                    <label for="telephone">Telephone</label>
                </div>
                <div class="input-field col s6">
                    <input class="validate" type="text" name="special_needs" id="special_needs" />
                    <label for="special_needs">Special Needs</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <select name="dinner_choice" id="dinner_choice">
                        <option value="veg">Vegetarian Pizza</option>
                        <option value="plain">Plain Pizza</option>
                        <option value="meat">Meat Pizza</option>
                        <option value="no">No Preference</option>
                    </select>
                    <label for="dinner_choice">Dinner Choice</label>
                </div>
                <div class="input-field col s6">
                    <select name="lunch_choice" id="lunch_choice">
                        <option value="veg">Vegetarian Sandwich</option>
                        <option value="meat">Meat Sandwich</option>
                        <option value="no">No Preference</option>
                    </select>
                    <label for="lunch_choice">Lunch Choice</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <select name="t_type" id="t_type">
                        <option value="w">Women's</option>
                        <option value="u">Unisex</option>
                    </select>
                    <label for="t_type">T-Shirt Type</label>
                </div>
                <div class="input-field col s6">
                    <select name="t_size" id="t_size">
                        <option value="xs">Extra Small</option>
                        <option value="s">Small</option>
                        <option value="m">Medium</option>
                        <option value="l">Large</option>
                        <option value="xl">Extra Large</option>
                    </select>
                    <label for="t_size">T-Shirt Size</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input type="password" name="password" id="password" class="validate" required />
                    <label for="password">Password</label>
                </div>
                <div class="input-field col s6">
                    <input type="password" name="password_confirm" id="password_confirm" class="validate" required />
                    <label for="password_confirm">Confirm Password</label>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <input type="checkbox" name="confirm" id="confirm_terms" class="validate" required />
                    <label for="confirm_terms">I agree to follow and obey the <a href="https://static.mlh.io/docs/mlh-code-of-conduct.pdf">MLH Code of Conduct</a></label>
                </div>
            </div>
            <div class="row center-align">
                <div class="col s12">
                    <button class="waves-effect waves-light btn">Submit</button>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block footer %}
<script type="text/javascript">
$(function() {
    // Initialise the Dropdowns
    $('select').material_select();

    // Initialise the Date Pickers
    $('.datepicker').pickadate({
        selectMonths: true,
        selectYears: 50,
        max: true,
        formatSubmit: "yyyy-mm-dd",
        hiddenName: true
    });

    $('#confirm_form').on('submit', function(e) {
        if ($('#password_confirm').val() !== $('#password').val()) {
            e.preventDefault();
        }
    });
});
</script>
{% endblock %}
